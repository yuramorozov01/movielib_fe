<div class="row" *ngIf="movie; else loader">
	<div class="card-deck col l4">
		<div class="card-outer">
			<div class="card">
				<div class="card-image waves-effect waves-block waves-light">
					<img class="activator" src="{{ movie.poster }}">
				</div>
				<div class="card-content">
					<span class="card-title activator grey-text text-darken-4 center">{{ movie.title }}<i class="material-icons right">more_vert</i></span>
				</div>
				<div class="card-reveal">
					<span class="card-title grey-text text-darken-4">{{ movie.title }}<i class="material-icons right">close</i></span>
					<p>{{ movie.tagline }}</p>
				</div>
			</div>
		</div>
	</div>
	<div class="col l8">
		<div class="card-outer">
			<div class="card description-card">
				<div class="card-content">
					<div class="main-info-text">
						<h4 class="grey-text text-darken-4">{{ movie.title }}</h4>
						<ul>
							<li class="list"><span><b>Year: </b>{{ movie.year }}</span></li>
							<li class="list"><span><b>Country: </b>{{ movie.country }}</span></li>
							<li class="list">
								<span>
									<b>Directors: </b>
									<span *ngFor="let director of movie.directors">{{ director.name }}, </span>
								</span>
							</li>
							<li class="list">
								<span>
									<b>Actors: </b>
									<span *ngFor="let actor of movie.actors">{{ actor.name }}, </span>
								</span>
							</li>
							<li class="list">
								<span>
									<b>Genres: </b>
									<span *ngFor="let genre of movie.genres">{{ genre }}, </span>
								</span>
							</li>
							<li class="list"><span><b>Category: </b>{{ movie.category }}</span></li>
							<li class="list"><span><b>Release data: </b>{{ movie.world_premiere }}</span></li>
							<li class="list"><span><b>Budget: </b>${{ movie.budget }}</span></li>
							<li class="list"><span><b>Fees in the USA: </b>${{ movie.fees_in_usa }}</span></li>
							<li class="list"><span><b>Fees in the world: </b>${{ movie.fees_in_world }}</span></li>
						</ul>
						<blockquote>
							<p class="card-title grey-text text-darken-3 section-title">{{ movie.tagline }}</p>
						</blockquote>
					</div>
					<hr>
					<div class="description-text">
						<h5 class="card-title grey-text text-darken-4">Description</h5>
						<section class="description" [innerHTML]="movie.description" #description></section>
					</div>
					<hr>
					<span class="heading">Users rating</span>
					<app-rating-stars [middleStar]="middleStar" [ratingStars]="ratingStars" (ratingClickEvent)="ratingClick($event)"></app-rating-stars>
				</div>
			</div>
		</div>
	</div>
	<div class="col l12">
		<app-review-form [movie]="movie.id" [parentReview]="parentReview" (replyCompleteEvent)="replyComplete($event)" #reviewForm></app-review-form>
		<h5 class="grey-text text-darken-4" *ngIf="movie.reviews?.length">Reviews:</h5>
		<app-review *ngIf="movie.reviews" [reviews]="movie.reviews" (replyEvent)="reply($event)"></app-review>
	</div>
</div>

<ng-template #loader>
	<app-loader></app-loader>
</ng-template>
